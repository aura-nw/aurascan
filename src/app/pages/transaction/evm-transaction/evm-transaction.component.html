<div *ngIf="loading" class="m-auto mt-10">
  <app-loading-sprint></app-loading-sprint>
</div>

<ng-container *ngIf="!loading">
  <ng-container *ngIf="transaction; else noValues">
    <!-- Title -->
    <div class="d-lg-flex justify-content-between align-items-center mb-4 mb-lg-6">
      <h1 class="text--white mb-0">Transaction Details</h1>
    </div>
    <div class="text--white">
      <!-- TODO: Error Box -->

      <!-- Information title-->
      <div class="d-flex align-items-baseline">
        <h2 id="popupCopy" class="mb-0 text--white pb-0 pr-0">
          {{ 'Information' }}
        </h2>
      </div>
      <!-- Information detail -->

      <div class="body py-4">
        <div>
          <div class="row mb-2 body justify-content-between justify-content-lg-start">
            <div class="col-auto col-lg-2 text--gray-4">EVM Txn hash</div>
            <div class="col-auto col-lg-10 text--gray-1 mb-0">{{ transaction?.evm_transaction?.hash }}</div>
          </div>
          <div class="row mb-2 body justify-content-between justify-content-lg-start">
            <div class="col-auto col-lg-2 text--gray-4">AURA Txn hash</div>
            <div class="col-auto col-lg-10">
              <a class="text--primary" routerLink="/transaction/{{ transaction?.hash }}" [copyBtn]="transaction?.hash">
                {{ environmentService.isMobile ? (transaction?.hash | ellipsis: 8 : 8) : transaction?.hash }}
              </a>
            </div>
          </div>
          <div class="row mb-2 body justify-content-between justify-content-lg-start">
            <div class="col-auto col-lg-2 text--gray-4">Status</div>
            <div class="col-auto col-lg-10 d-flex align-items-center">
              <img
                [src]="
                  transaction?.code == codeTransaction.Success
                    ? ('assets/icons/icons-svg/color/success.svg' | imageS3)
                    : ('assets/icons/icons-svg/color/fail.svg' | imageS3)
                "
                width="20px"
                height="20px" />
              <span class="ml-2 {{ transaction?.status === 'Success' ? 'text--green-3' : 'text--red-3' }}">
                {{ transaction?.status | uppercase }}
              </span>
            </div>
          </div>
          <div class="row mb-2 body justify-content-between justify-content-lg-start">
            <div class="col-auto col-lg-2 text--gray-4">Height</div>
            <div class="col-auto col-lg-10">
              <a class="text--primary" routerLink="/blocks/{{ transaction?.height }}">
                {{ transaction?.height | number }}
              </a>
            </div>
          </div>
          <div class="row mb-2 body justify-content-between justify-content-lg-start">
            <div class="col-auto col-lg-2 text--gray-4">Time</div>
            <div class="col-auto col-lg-10 text-end text-lg-start d-lg-flex align-items-center text--gray-1">
              <div>{{ transaction?.timestamp | customDateTime: 'Distance' }}</div>
              <div class="d-flex align-items-center ml-1 text--gray-4">
                <span>(</span>
                <span>{{ transaction?.timestamp | customDateTime: 'DateOnly' }}</span>
                <div class="divider divider-vertical divider-lighter mx-2"></div>
                <span>{{ transaction?.timestamp | customDateTime: 'TimeOnly' }}</span>
                <span>)</span>
              </div>
            </div>
          </div>
          <div class="row mb-2 body justify-content-between justify-content-lg-start">
            <div class="col-auto col-lg-2 text--gray-4">Fee</div>
            <div class="col-auto col-lg-10 text--gray-1">
              {{ +transaction?.fee | mask: 'separator.6' }}
              <span appLinkDenom>{{ denom }}</span>
            </div>
          </div>
          <div class="row body justify-content-between justify-content-lg-start">
            <div class="col-auto col-lg-2 text--gray-4 d-md-flex">
              <div>Gas</div>
              <div class="ml-md-1">(used / wanted)</div>
            </div>
            <div class="col-auto col-lg-10 text--gray-1">
              {{ transaction?.gas_used | number }} / {{ transaction?.gas_wanted | number }}
            </div>
          </div>
          <div class="row body mt-2 justify-content-between justify-content-lg-start">
            <div class="col-auto col-lg-2 text--gray-4 d-md-flex">
              <div>Memo</div>
            </div>
            <div class="col-auto col-lg-10 text--gray-1 line-claim-v">
              {{ !transaction?.memo ? '-' : (transaction?.memo | ellipsis: (environmentService.isMobile ? 25 : 100)) }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
  <ng-template #noValues>
    <app-table-no-data [textNull]="errTxt"></app-table-no-data>
  </ng-template>
</ng-container>
