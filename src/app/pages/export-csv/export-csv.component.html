<h1 class="text--white fw-700">Export Data (Download CSV file)</h1>
<div class="text--gray-2 mb-6">The earliest 1,000 record within the selected range will be exported</div>

<div class="col-6">
  <form [formGroup]="csvForm" (ngSubmit)="onSubmit()" class="aura-form single-input-field csv-form" autocomplete="off">
    <!-- Export data type -->
    <div class="d-flex align-items-center mb-6">
      <div class="col-3">
        <span class="form-label body-02 text--gray-4">Export data type</span>
      </div>
      <div class="col-9">
        <div class="form-group">
          <div class="input-group" [class.form-control--error]="false">
            <input
              type="email"
              formControlName="email"
              placeholder="Enter your email"
              class="input-email"
              name="inputEmail"
              (blur)="isError = false"
              autocomplete="off" />
          </div>
        </div>
      </div>
    </div>

    <!-- Address -->
    <div class="d-flex align-items-center mb-6">
      <div class="col-3">
        <span class="form-label body-02 text--gray-4">Address</span>
      </div>
      <div class="col-9">
        <div class="form-group">
          <div class="input-group" [class.form-control--error]="false">
            <input
              type="email"
              formControlName="email"
              placeholder="aura..."
              class="input-email"
              name="inputEmail"
              (blur)="isError = false"
              autocomplete="off" />
          </div>
        </div>
      </div>
    </div>

    <!-- Data range -->
    <div class="d-flex align-items-center mb-6">
      <div class="col-3">
        <span class="form-label body-02 text--gray-4">Data range</span>
      </div>
      {{ csvForm.isFilterDate }}
      <div class="col-9">
        <div class="d-flex align-items-center">
          <div class="form-group d-flex align-items-center">
            <input
              type="radio"
              value="filterRange"
              id="date"
              class="radio-box radio-box--dark"
              [checked]="isFilterDate"
              (change)="changeType(true)" />
            <label for="date" class="ml-2 mb-0 text-justify">Date</label>
          </div>
          <div class="form-group d-flex align-items-center ml-8">
            <input
              type="radio"
              value="filterRange"
              id="block"
              class="radio-box radio-box--dark"
              [checked]="!isFilterDate"
              (change)="changeType()" />
            <label for="block" class="ml-2 mb-0 text-justify">Block Height</label>
          </div>
        </div>
      </div>
    </div>

    <!-- Filter Mode -->
    <div class="offset-3 d-flex align-items-center mb-6">
      <ng-container *ngIf="isFilterDate">
        <div class="filter-time col-5">
          <div class="input-group input-group--simply pr-0 cursor-pointer" (click)="pickerStart.open()">
            <input
              readOnly
              #start_date
              [matDatepicker]="pickerStart"
              [style]="'max-width: 70%'"
              [(ngModel)]="dateStart"
              (ngModelChange)="setDateRange()"
              class="cursor-pointer"
              placeholder="Start date" />
            <div class="mr-3 h6 mb-0 position-relative mt-1">
              <i class="ph-thin ph-calendar-blank h3 text--white"></i>
              <mat-datepicker #pickerStart></mat-datepicker>
            </div>
          </div>
        </div>
        <div class="col-2 text--white d-flex justify-content-center">-</div>
        <div class="filter-time col-5">
          <div class="input-group input-group--simply pr-0 cursor-pointer" (click)="pickerEnd.open()">
            <input
              readOnly
              #end_date
              [matDatepicker]="pickerEnd"
              [style]="'max-width: 70%'"
              [(ngModel)]="dateEnd"
              (ngModelChange)="setDateRange()"
              class="cursor-pointer"
              placeholder="End date" />
            <div class="mr-3 h6 mb-0 position-relative mt-1">
              <i class="ph-thin ph-calendar-blank h3 text--white"></i>
              <mat-datepicker #pickerEnd></mat-datepicker>
            </div>
          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="!isFilterDate">
        <div class="col-5">
          <div class="input-group">
            <input
              [type]="'text'"
              placeholder="From Block"
              formControlName="blockFrom"
              (blur)="isError = false"
              name="inputBlock"
              autocomplete="off" />
          </div>
        </div>
        <div class="col-2 text--white d-flex justify-content-center">-</div>
        <div class="col-5">
          <div class="input-group">
            <input
              [type]="'text'"
              placeholder="To Block"
              formControlName="blockTo"
              (blur)="isError = false"
              name="inputBlock"
              autocomplete="off" />
          </div>
        </div>
      </ng-container>
    </div>

    <mat-slide-toggle (click)="changeDisplayPrivate()" formControlName="displayPrivate" [disabled]="!userEmail">
      <span class="text--gray-8">Include Private name tags in data downloaded</span>
    </mat-slide-toggle>

    <!-- button group -->
    <div class="d-flex px-6 py-6 justify-content-end">
      <button class="button button--md button-pill button-outline btn" type="button">
        <span>Reset</span>
      </button>
      <button
        class="button button--md button-outline--gradient button-pill button-flat ml-4 btn btn-create"
        type="button"
        (click)="onSubmit()">
        <span class="text--white"> Download </span>
      </button>
    </div>
  </form>
</div>
