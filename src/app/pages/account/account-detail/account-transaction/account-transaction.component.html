<div class="card mt-3" *ngIf="{ value: breakpoint$ | async } as breakpoint">
  <div class="card-body">
    <h3 class="mb-0 fw-bold text--white mb-4">Transactions</h3>

    <ul
      ngbNav
      #customNav="ngbNav"
      [activeId]="0"
      class="aura-nav-tabs nav-tabs nav-tabs-custom nav-justified flex-nowrap mb-4 mb-lg-6"
      [class.mobile-tab]="breakpoint.value.matches">
      <ng-container *ngFor="let tab of TABS; index as index">
        <li [ngbNavItem]="index">
          <a class="account__tab-item" ngbNavLink (click)="currentTab = tab.label">
            <span class="h5 fw-semibold mb-0 {{ customNav.activeId === index ? 'text--white' : 'text--gray-light' }}">{{
              tab.label
            }}</span>
          </a>
        </li>
      </ng-container>
    </ul>

    <!-- Assets-->
    <ng-container *ngIf="currentTab === tabsData.ExecutedTxs">
      <!-- Executed Transaction -->
      <app-account-transaction-table [modeQuery]="currentTab"></app-account-transaction-table>
      <ng-container *ngTemplateOutlet="reloadTemplate"></ng-container>
    </ng-container>

    <!-- Aura Transfer -->
    <ng-container *ngIf="currentTab === tabsData.AuraTxs">
      <app-account-transaction-table [modeQuery]="currentTab" [displayType]="true"></app-account-transaction-table>
    </ng-container>

    <!-- Fts Transaction -->
    <ng-container *ngIf="currentTab === tabsData.FtsTxs">
      <app-account-transaction-table [modeQuery]="currentTab" [displayType]="true"></app-account-transaction-table>
      <ng-container *ngTemplateOutlet="reloadTemplate"></ng-container>
    </ng-container>

    <!-- NFT Transactions -->
    <ng-container *ngIf="currentTab === tabsData.NftTxs">
      <app-account-transaction-table [modeQuery]="currentTab" [displayType]="true"></app-account-transaction-table>
      <ng-container *ngTemplateOutlet="reloadTemplate"></ng-container>
    </ng-container>
  </div>
</div>

<ng-template #reloadTemplate>
  <div class="card p-5 d-flex justify-content-between align-items-center" *ngIf="isNoData">
    <div class="text-center">
      <img [src]="'assets/icons/icons-svg/color/spinner.svg' | imageS3" alt="" class="mr-2" width="40" height="40" />
      <div class="small-text text--light-gray mt-4">
        Fetching data, might take longer than usual. <br />
        Please come back later or
        <span class="link-reset-data" (click)="reloadData()">refresh the page</span>
      </div>
    </div>
  </div>
</ng-template>
